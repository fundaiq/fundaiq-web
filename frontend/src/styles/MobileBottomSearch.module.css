/* =============================================================================
   MOBILE BOTTOM SEARCH - COMPLETE MODULE CSS WITH TOOLTIP
   =============================================================================
   Mobile-first bottom search bar with tooltip functionality
============================================================================= */

/* ==================== MAIN CONTAINER ==================== */

.mobileSearchContainer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: var(--z-modal, 1050);
  display: none;
}

@media (max-width: 768px) {
  .mobileSearchContainer {
    display: block;
  }
}

/* ==================== BACKDROP ==================== */

.backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  z-index: calc(var(--z-modal, 1050) - 10);
  animation: backdropFadeIn var(--transition-normal, 200ms) var(--easing-default, ease);
}

@keyframes backdropFadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* ==================== SEARCH BAR ==================== */

.searchBar {
  position: relative;
  background: var(--surface-elevated, white);
  border-top: 1px solid var(--border-primary, #e2e8f0);
  border-radius: var(--radius-xl, 12px) var(--radius-xl, 12px) 0 0;
  box-shadow: var(--shadow-lg, 0 10px 15px -3px rgba(0,0,0,0.1));
  z-index: calc(var(--z-modal, 1050) + 10);
}

.searchBarInner {
  padding: var(--space-lg, 16px);
  display: flex;
  align-items: center;
  gap: var(--space-md, 12px);
  min-height: 80px;
}

/* ==================== COLLAPSED STATE ==================== */

.collapsedButton {
  flex: 1;
  display: flex;
  align-items: center;
  gap: var(--space-md, 12px);
  padding: var(--space-lg, 16px);
  background: var(--surface-secondary, #f8fafc);
  border: 1px solid var(--border-primary, #e2e8f0);
  border-radius: var(--radius-xl, 12px);
  cursor: pointer;
  transition: all var(--transition-fast, 150ms) var(--easing-default, ease);
}

.collapsedButton:hover {
  background: var(--surface-tertiary, #f1f5f9);
  border-color: var(--brand-primary, #667eea);
}

.collapsedIcon {
  width: 32px;
  height: 32px;
  background: var(--brand-primary, #667eea);
  border-radius: var(--radius-lg, 8px);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  flex-shrink: 0;
}

.collapsedContent {
  flex: 1;
  text-align: left;
}

.collapsedText {
  font-size: var(--text-sm, 14px);
  font-weight: var(--font-medium, 500);
  color: var(--text-primary, #1e293b);
  margin-bottom: var(--space-xs, 4px);
}

.collapsedSubtext {
  font-size: var(--text-xs, 12px);
  color: var(--text-tertiary, #94a3b8);
}

.collapsedIndicator {
  width: 24px;
  height: 24px;
  color: var(--brand-primary, #667eea);
  flex-shrink: 0;
}

/* ==================== EXPANDED STATE ==================== */

.expandedInput {
  flex: 1;
  position: relative;
  display: flex;
  align-items: center;
}

.searchInput {
  width: 100%;
  padding: var(--space-md, 12px) var(--space-4xl, 48px) var(--space-md, 12px) var(--space-4xl, 48px);
  background: var(--surface-secondary, #f8fafc);
  border: 1px solid var(--border-primary, #e2e8f0);
  border-radius: var(--radius-lg, 8px);
  color: var(--text-primary, #1e293b);
  font-size: var(--text-base, 16px);
  transition: all var(--transition-fast, 150ms) var(--easing-default, ease);
  outline: none;
}

.searchInput:focus {
  border-color: var(--brand-primary, #667eea);
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

.searchInput::placeholder {
  color: var(--text-tertiary, #94a3b8);
}

.inputIcon {
  position: absolute;
  left: var(--space-md, 12px);
  top: 50%;
  transform: translateY(-50%);
  width: 20px;
  height: 20px;
  color: var(--text-tertiary, #94a3b8);
  z-index: 10;
}

/* ==================== RIGHT CONTROLS ==================== */

.rightControls {
  position: absolute;
  right: var(--space-md, 12px);
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  align-items: center;
  gap: var(--space-sm, 8px);
  z-index: 20;
}

.clearButton {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  background: transparent;
  border: none;
  color: var(--text-tertiary, #94a3b8);
  cursor: pointer;
  transition: color var(--transition-fast, 150ms) var(--easing-default, ease);
}

.clearButton:hover {
  color: var(--text-secondary, #64748b);
}

/* ==================== TOOLTIP STYLES ==================== */

.tooltipContainer {
  position: relative;
  cursor: pointer;
}

.helpIcon {
  width: 16px;
  height: 16px;
  color: var(--text-tertiary, #94a3b8);
  transition: color var(--transition-fast, 150ms) var(--easing-default, ease);
}

.helpIcon:hover {
  color: var(--brand-primary, #667eea);
}

.tooltip {
  position: absolute;
  right: 0;
  bottom: calc(100% + var(--space-sm, 8px));
  z-index: var(--z-tooltip, 9999);
  animation: tooltipSlideUp 0.2s ease-out;
  pointer-events: auto;
}

.tooltipContent {
  background: var(--surface-elevated, white);
  border: 1px solid var(--border-primary, #e2e8f0);
  border-radius: var(--radius-md, 8px);
  padding: var(--space-md, 16px);
  box-shadow: var(--shadow-lg, 0 10px 15px -3px rgba(0,0,0,0.1));
  min-width: 260px;
  max-width: 300px;
  white-space: nowrap;
}

[data-theme="dark"] .tooltipContent {
  background: var(--surface-elevated, #1e293b);
  border-color: var(--border-primary, #334155);
  box-shadow: 0 10px 15px -3px rgba(0,0,0,0.3);
}

.tooltipTitle {
  font-size: var(--text-sm, 14px);
  font-weight: var(--font-semibold, 600);
  color: var(--text-primary, #1e293b);
  margin: 0 0 var(--space-sm, 8px) 0;
  white-space: normal;
}

.tooltipList {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs, 4px);
  margin-bottom: var(--space-sm, 8px);
}

.tooltipItem {
  display: flex;
  align-items: center;
  gap: var(--space-sm, 8px);
}

.tooltipLabel {
  font-family: var(--font-mono, 'Fira Code', monospace);
  font-size: var(--text-xs, 12px);
  font-weight: var(--font-semibold, 600);
  color: var(--brand-primary, #667eea);
  background: var(--brand-primary-light, rgba(102, 126, 234, 0.1));
  padding: var(--space-xs, 4px) var(--space-sm, 8px);
  border-radius: var(--radius-sm, 4px);
  min-width: 36px;
  text-align: center;
}

.tooltipText {
  font-size: var(--text-xs, 12px);
  color: var(--text-secondary, #64748b);
  white-space: normal;
}

.tooltipExample {
  font-size: var(--text-xs, 12px);
  color: var(--text-tertiary, #94a3b8);
  font-style: italic;
  margin: 0;
  padding-top: var(--space-xs, 4px);
  border-top: 1px solid var(--border-subtle, #f1f5f9);
  white-space: normal;
}

/* ==================== ACTION BUTTONS ==================== */

.searchButton {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-sm, 8px);
  padding: var(--space-md, 12px) var(--space-lg, 16px);
  background: var(--brand-primary, #667eea);
  border: none;
  border-radius: var(--radius-lg, 8px);
  color: white;
  font-size: var(--text-sm, 14px);
  font-weight: var(--font-medium, 500);
  cursor: pointer;
  transition: all var(--transition-fast, 150ms) var(--easing-default, ease);
  flex-shrink: 0;
  min-width: 80px;
}

.searchButton:hover:not(:disabled) {
  background: var(--brand-primary-hover, #5a67d8);
  transform: translateY(-1px);
}

.searchButton:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.searchButtonText {
  font-size: var(--text-sm, 14px);
}

.closeButton {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background: var(--surface-secondary, #f8fafc);
  border: 1px solid var(--border-primary, #e2e8f0);
  border-radius: var(--radius-lg, 8px);
  color: var(--text-secondary, #64748b);
  cursor: pointer;
  transition: all var(--transition-fast, 150ms) var(--easing-default, ease);
}

.closeButton:hover {
  background: var(--surface-tertiary, #f1f5f9);
  color: var(--text-primary, #1e293b);
}

/* ==================== LOADING SPINNER ==================== */

.loadingSpinner {
  width: 16px;
  height: 16px;
  border: 2px solid var(--text-tertiary, #94a3b8);
  border-top: 2px solid var(--brand-primary, #667eea);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

/* ==================== SUGGESTIONS ==================== */

.suggestionsContainer {
  position: absolute;
  bottom: 100%;
  left: 0;
  right: 0;
  margin-bottom: var(--space-xs, 4px);
  z-index: calc(var(--z-modal, 1050) + 20);
}

.suggestionsDropdown {
  margin: 0 var(--space-lg, 16px);
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(226, 232, 240, 0.8);
  border-radius: var(--radius-xl, 12px);
  box-shadow: 
    0 10px 40px rgba(15, 23, 42, 0.1),
    0 4px 16px rgba(15, 23, 42, 0.05);
  max-height: 320px;
  overflow-y: auto;
  animation: slideUpIn var(--transition-normal, 200ms) var(--easing-default, ease);
}

[data-theme="dark"] .suggestionsDropdown {
  background: rgba(15, 23, 42, 0.95);
  border: 1px solid rgba(51, 65, 85, 0.8);
  box-shadow: 
    0 10px 40px rgba(0, 0, 0, 0.3),
    0 4px 16px rgba(0, 0, 0, 0.2);
}

.suggestionItem {
  width: 100%;
  padding: var(--space-lg, 16px);
  text-align: left;
  border: none;
  background: transparent;
  cursor: pointer;
  transition: all var(--transition-fast, 150ms) var(--easing-default, ease);
  border-bottom: 1px solid rgba(226, 232, 240, 0.5);
  display: flex;
  align-items: center;
  gap: var(--space-md, 12px);
}

.suggestionItem:hover,
.suggestionItem.highlighted {
  background: rgba(102, 126, 234, 0.08);
  transform: translateX(2px);
}

.suggestionIcon {
  width: 28px;
  height: 28px;
  background: var(--brand-primary, #667eea);
  border-radius: var(--radius-lg, 8px);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  flex-shrink: 0;
}

.suggestionContent {
  flex: 1;
  min-width: 0;
}

.suggestionTicker {
  font-size: var(--text-sm, 14px);
  font-weight: var(--font-semibold, 600);
  color: var(--text-primary, #1e293b);
  margin-bottom: var(--space-xs, 4px);
}

.suggestionName {
  font-size: var(--text-xs, 12px);
  color: var(--text-secondary, #64748b);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.suggestionArrow {
  width: 16px;
  height: 16px;
  color: var(--text-tertiary, #94a3b8);
  opacity: 0;
  transition: opacity var(--transition-fast, 150ms) var(--easing-default, ease);
}

.suggestionItem:hover .suggestionArrow,
.suggestionItem.highlighted .suggestionArrow {
  opacity: 1;
}

/* ==================== ANIMATIONS ==================== */

@keyframes slideUpIn {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes tooltipSlideUp {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* ==================== RESPONSIVE ADJUSTMENTS ==================== */

@media (max-width: 480px) {
  .searchBarInner {
    padding: var(--space-md, 12px);
    gap: var(--space-sm, 8px);
  }
  
  .searchInput {
    font-size: 16px; /* Prevents zoom on iOS */
  }
  
  .tooltipContent {
    min-width: 240px;
    max-width: 280px;
  }
  
  .searchButton {
    min-width: 70px;
    padding: var(--space-sm, 8px) var(--space-md, 12px);
  }
  
  .searchButtonText {
    display: none; /* Hide text on very small screens */
  }
}

@media (max-width: 375px) {
  .tooltipContent {
    min-width: 220px;
    max-width: 260px;
  }
  
  .collapsedSubtext {
    display: none; /* Hide subtext on very small screens */
  }
}

/* ==================== DARK THEME SUPPORT ==================== */

[data-theme="dark"] .searchBar {
  background: var(--surface-elevated, #1e293b);
  border-top-color: var(--border-primary, #334155);
}

[data-theme="dark"] .collapsedButton {
  background: var(--surface-secondary, #334155);
  border-color: var(--border-primary, #475569);
}

[data-theme="dark"] .collapsedButton:hover {
  background: var(--surface-tertiary, #475569);
}

[data-theme="dark"] .searchInput {
  background: var(--surface-secondary, #334155);
  border-color: var(--border-primary, #475569);
  color: var(--text-primary, #f1f5f9);
}

[data-theme="dark"] .closeButton {
  background: var(--surface-secondary, #334155);
  border-color: var(--border-primary, #475569);
  color: var(--text-secondary, #cbd5e1);
}

[data-theme="dark"] .closeButton:hover {
  background: var(--surface-tertiary, #475569);
  color: var(--text-primary, #f1f5f9);
}

/* ==================== ACCESSIBILITY ==================== */

.searchInput:focus,
.searchButton:focus,
.closeButton:focus,
.collapsedButton:focus {
  outline: 2px solid var(--brand-primary, #667eea);
  outline-offset: 2px;
}

.suggestionItem:focus {
  outline: 2px solid var(--brand-primary, #667eea);
  outline-offset: -2px;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .searchBar {
    border-top: 2px solid var(--border-primary, #e2e8f0);
  }
  
  .searchInput,
  .collapsedButton,
  .searchButton,
  .closeButton {
    border: 2px solid var(--border-primary, #e2e8f0);
  }
  
  .tooltipContent {
    border: 2px solid var(--border-primary, #e2e8f0);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .suggestionsDropdown,
  .backdrop,
  .tooltip {
    animation: none;
  }
  
  .suggestionItem,
  .searchButton,
  .closeButton,
  .collapsedButton {
    transition: none;
  }
}

/* Add these styles to your existing MobileBottomSearch.module.css file */

/* Status Messages */
.statusContainer {
  position: fixed;
  bottom: 120px;
  left: 1rem;
  right: 1rem;
  z-index: 1000;
}

.statusMessage {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  border-radius: 0.5rem;
  font-size: 0.875rem;
  font-weight: 500;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.statusSuccess {
  background: var(--color-success-bg, #dcfce7);
  color: var(--color-success-text, #16a34a);
  border: 1px solid var(--color-success-border, #bbf7d0);
}

.statusError {
  background: var(--color-error-bg, #fef2f2);
  color: var(--color-error-text, #dc2626);
  border: 1px solid var(--color-error-border, #fecaca);
}

.statusIcon {
  width: 1rem;
  height: 1rem;
  flex-shrink: 0;
}

/* Upload Area Styles */
.uploadArea {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 1rem;
  border: 2px dashed var(--border-color, #d1d5db);
  border-radius: 0.5rem;
  background: var(--surface-elevated, #f9fafb);
  transition: all 0.2s ease;
  flex: 1;
}

.uploadArea:hover {
  border-color: var(--color-accent, #2563eb);
  background: var(--surface-hover, #f3f4f6);
}

.uploadContent {
  flex: 1;
}

.uploadTitle {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--text-primary, #111827);
  margin-bottom: 0.25rem;
}

.uploadSubtitle {
  font-size: 0.75rem;
  color: var(--text-secondary, #6b7280);
  line-height: 1.2;
}

.uploadButtonIcon {
  width: 1rem;
  height: 1rem;
}

/* Close Button */
.closeButton {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2rem;
  height: 2rem;
  border: none;
  background: var(--surface-secondary, #f3f4f6);
  color: var(--text-secondary, #6b7280);
  border-radius: 0.375rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.closeButton:hover {
  background: var(--surface-tertiary, #e5e7eb);
  color: var(--text-primary, #111827);
}

.closeButton svg {
  width: 1rem;
  height: 1rem;
}

/* Dark mode adjustments */
[data-theme="dark"] .statusSuccess {
  background: var(--color-success-bg-dark, #064e3b);
  color: var(--color-success-text-dark, #10b981);
  border-color: var(--color-success-border-dark, #065f46);
}

[data-theme="dark"] .statusError {
  background: var(--color-error-bg-dark, #7f1d1d);
  color: var(--color-error-text-dark, #ef4444);
  border-color: var(--color-error-border-dark, #991b1b);
}

[data-theme="dark"] .uploadArea {
  background: var(--surface-elevated-dark, #1f2937);
  border-color: var(--border-color-dark, #374151);
}

[data-theme="dark"] .uploadArea:hover {
  background: var(--surface-hover-dark, #111827);
  border-color: var(--color-accent-dark, #3b82f6);
}

[data-theme="dark"] .uploadTitle {
  color: var(--text-primary-dark, #f9fafb);
}

[data-theme="dark"] .uploadSubtitle {
  color: var(--text-secondary-dark, #9ca3af);
}

[data-theme="dark"] .closeButton {
  background: var(--surface-secondary-dark, #374151);
  color: var(--text-secondary-dark, #9ca3af);
}

[data-theme="dark"] .closeButton:hover {
  background: var(--surface-tertiary-dark, #4b5563);
  color: var(--text-primary-dark, #f9fafb);
}

/* Responsive adjustments */
@media (max-width: 640px) {
  .uploadArea {
    padding: 0.75rem;
    gap: 0.5rem;
  }
  
  .uploadTitle {
    font-size: 0.8125rem;
  }
  
  .uploadSubtitle {
    font-size: 0.6875rem;
  }
  
  .statusContainer {
    left: 0.5rem;
    right: 0.5rem;
  }
  
  .statusMessage {
    padding: 0.625rem 0.875rem;
    font-size: 0.8125rem;
  }
}